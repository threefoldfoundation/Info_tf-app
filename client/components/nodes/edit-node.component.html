<tff-api-request-status [status]="status"></tff-api-request-status>
<form *ngIf="node" (ngSubmit)="submit()">
  <h2>{{ 'tff.node_x' | translate : { id: node.id } }}</h2>
  <p *ngIf="node.serial_number">{{ 'tff.serial_number' | translate }}: {{ node.serial_number }}</p>
  <tff-user-field [(ngModel)]="node.username" name="username"></tff-user-field>
  <tff-api-request-status [status]="updateStatus"></tff-api-request-status>
  <div fxLayoutGap="16px">
    <button mat-raised-button color="warn" type="button" (click)="deleteNode.emit(node)">
      {{ 'tff.remove' | translate }}
    </button>
    <button mat-raised-button fxLayoutGap="">{{ 'tff.save' | translate }}</button>
  </div>
  <h3>{{ 'tff.status' | translate }}</h3>
  <p>{{ ('tff.node_status_' + node.status) | translate }}</p>
  <p *ngIf="node.last_update">{{ 'tff.last_update_x' | translate : { date: node.last_update | date : 'medium'} }}</p>
  <ng-container *ngIf="node.chain_status">
    <h3>{{ 'tff.tfchain_status' | translate }}</h3>
    <p>{{ 'tff.wallet_status_x' | translate : { status: node.chain_status.wallet_status } }}</p>
    <p>{{ 'tff.block_height' | translate }} {{ node.chain_status.block_height }}</p>
    <p>{{ 'tff.active_blockstakes' | translate }}: {{ node.chain_status.active_blockstakes }}</p>
    <p>{{ 'tff.confirmed_balance' | translate }}: {{ node.chain_status.confirmed_balance }}</p>
    <p>{{ 'tff.network' | translate }}: {{ node.chain_status.network }}</p>
    <p>{{ 'tff.connected_peers' | translate }}: {{ node.chain_status.connected_peers}}</p>
    <p>{{ 'tff.address' | translate }}: {{ node.chain_status.address }}</p>
  </ng-container>
</form>
